/* =========================================================
   Primary Navigation (Base Fix)
   - Makes WP menu look normal (no bullets, horizontal)
   - Enables submenu dropdown hover for non-mega items
   Multi-level dropdown improvements
   Mega Menu integration fixes
   ========================================================= */

/* Anchor mega dropdown to the full header width, not the nav component width */
#site-header,
.site-header {
	position: relative;
}

/* Use our stable wrapper (works regardless of WP/theme classes) */
.hmpro-primary-nav ul {
	list-style: none;
	margin: 0;
	padding: 0;
}

/* Top-level horizontal */
.hmpro-primary-nav > ul > li,
.hmpro-primary-nav > .menu > li,
.hmpro-primary-nav > ul.menu > li {
	display: inline-block;
	position: relative;
	vertical-align: middle;
}

/* Top-level nav links only (do not affect mega panel inner links) */
.hmpro-primary-nav > ul > li > a,
.hmpro-primary-nav > .menu > li > a,
.hmpro-primary-nav > ul.menu > li > a {
	display: inline-block;
	padding: 10px 12px;
	color: inherit;
	text-decoration: none;
}

/* ---------------------------------------------------------
   Submenus (NORMAL dropdown)
   IMPORTANT: scope to WP submenu markup only (ul.sub-menu),
   otherwise it will hide mega menu column lists (also <ul>).
   --------------------------------------------------------- */
.hmpro-primary-nav ul.sub-menu {
	display: none;
	position: absolute;
	left: 0;
	top: 100%;
	min-width: 220px;
	background: #fff;
	border: 1px solid rgba(0, 0, 0, 0.08);
	box-shadow: 0 10px 24px rgba(0, 0, 0, 0.12);
	z-index: 9999;
}

/* Open on hover */
.hmpro-primary-nav li:hover > ul.sub-menu {
	display: block;
}

/* Submenu items */
.hmpro-primary-nav ul.sub-menu li {
	display: block;
	position: relative;
}

/* Make submenu hover area stable (avoid accidental close) */
.hmpro-primary-nav ul.sub-menu {
	padding: 10px;
}

.hmpro-primary-nav ul.sub-menu li a {
	display: block;
	padding: 10px 12px;
	text-decoration: none;
}

/* Third level flyout */
.hmpro-primary-nav ul.sub-menu li ul.sub-menu {
	left: 100%;
	top: 0;
}

/* Optional: indicator for items that have children */
.hmpro-primary-nav li.menu-item-has-children > a:after {
	content: "▾";
	font-size: 12px;
	margin-left: 6px;
}
.hmpro-primary-nav li ul li.menu-item-has-children > a:after {
	content: "▸";
	float: right;
	margin-left: 12px;
}

/* Builder Frontend Base (Commit 018) */
.hmpro-header-builder{
	width:100%;
}

/* ---------------------------------------------------------
   Header Builder
   The builder renderer assigns left/center/right classes by column index.
   Using flex:1 on all columns makes them equal width, which can squeeze
   the center navigation and cause top-level items to wrap (e.g. one item
   drops to a new line). Keep footer builder behavior unchanged by scoping
   these overrides to the header builder only.
   --------------------------------------------------------- */
.hmpro-header-builder .hmpro-builder-col{
	flex:0 0 auto;
}
.hmpro-header-builder .hmpro-builder-col.hmpro-align-center{
	flex:1 1 auto;
	min-width:0;
}

/* Make top-level header menus a single horizontal line when space allows */
.hmpro-header-builder .hmpro-primary-nav > ul,
.hmpro-header-builder .hmpro-primary-nav .menu{
	white-space:nowrap;
}

.hmpro-logo img,
.hmpro-logo img.custom-logo,
.hmpro-logo .custom-logo,
.hmpro-logo .custom-logo-link img{
  max-height: var(--hmpro-logo-max-height);
  width:auto !important;
  height:auto !important;
  display:block;
	object-fit:contain;
}
.hmpro-logo-text{
	font-weight:600;
	text-decoration:none;
}
.hmpro-nav .hmpro-menu{
	list-style:none;
	margin:0;
	padding:0;
	display:flex;
	gap:22px;
	align-items:center;
}
.hmpro-nav .hmpro-menu li{
	margin:0;
	padding:0;
}
.hmpro-nav .hmpro-menu a{
	text-decoration:none;
}
.hmpro-search{
	display:flex;
	gap:8px;
	align-items:center;
}
.hmpro-search-field{
	padding:8px 10px;
	border:1px solid rgba(0,0,0,.2);
	border-radius:8px;
	color: var(--hmpro-text, #111);
	background: transparent;
}
.hmpro-search-field::placeholder{
	opacity:.75;
}
.hmpro-search-submit{
	padding:8px 12px;
	border-radius:8px;
	cursor:pointer;

	/* chameleon: theme accent by default */
	background: var(--hmpro-accent, #6b4a50);
	border: 1px solid var(--hmpro-accent, #6b4a50);
	color: var(--hmpro-accent-contrast, #fff);

	transition: opacity .15s ease, transform .15s ease, filter .15s ease;
}
.hmpro-search-submit:hover,
.hmpro-search-submit:focus{
	opacity:.95;
	transform: translateY(-1px);
	filter: brightness(.95);
}
.hmpro-search-submit:disabled{
	opacity:.55;
	cursor:not-allowed;
	transform:none;
	filter:none;
}

@media (max-width: 768px){
	.hmpro-nav .hmpro-menu{flex-wrap:wrap;gap:14px;}
}

/* =========================================================
   Mobile Header + Right Drawer (Commit A)
   - Hides desktop primary nav on mobile
   - Shows hamburger toggle
   - Right-side off-canvas drawer with overlay
   ========================================================= */

.hmpro-header-account-cta{
	position:absolute;
	right:14px;
	top:10px;
	z-index:30;
}
.hmpro-header-account-cta .hmpro-account-link{
	display:inline-flex;
	align-items:center;
	justify-content:center;
	padding:8px 12px;
	border-radius:10px;
	text-decoration:none;
	border:1px solid rgba(0,0,0,.12);
	background: rgba(255,255,255,.65);
	backdrop-filter: blur(6px);
	color: inherit;
	font-weight:600;
}

.hmpro-mobile-menu-toggle{
	display:none;
	position:absolute;
	right:14px;
	top:56px;
	z-index:40;
	width:44px;
	height:44px;
	border-radius:12px;
	border:1px solid rgba(0,0,0,.12);
	background: rgba(255,255,255,.70);
	backdrop-filter: blur(6px);
	cursor:pointer;
}
.hmpro-mobile-menu-toggle .hmpro-burger{
	display:block;
	width:18px;
	height:2px;
	background: currentColor;
	margin:0 auto;
	position:relative;
}
.hmpro-mobile-menu-toggle .hmpro-burger:before,
.hmpro-mobile-menu-toggle .hmpro-burger:after{
	content:"";
	position:absolute;
	left:0;
	width:18px;
	height:2px;
	background: currentColor;
}
.hmpro-mobile-menu-toggle .hmpro-burger:before{ top:-6px; }
.hmpro-mobile-menu-toggle .hmpro-burger:after{ top:6px; }

/* Drawer base */
.hmpro-mobile-drawer{
	position:fixed;
	inset:0;
	z-index:99999;
	pointer-events:none;
	opacity:0;
	transition: opacity .18s ease;
}
.hmpro-mobile-drawer.is-open{
	pointer-events:auto;
	opacity:1;
}
.hmpro-mobile-drawer-overlay{
	position:absolute;
	inset:0;
	background: rgba(0,0,0,.35);
}
.hmpro-mobile-drawer-panel{
	position:absolute;
	top:0;
	right:0;
	height:100%;
	width:340px;
	max-width:86vw;
	background:#fff;
	transform: translateX(100%);
	transition: transform .22s ease;
	display:flex;
	flex-direction:column;
}
.hmpro-mobile-drawer.is-open .hmpro-mobile-drawer-panel{
	transform: translateX(0);
}

.hmpro-mobile-drawer-head{
	display:flex;
	align-items:center;
	gap:10px;
	padding:14px;
	border-bottom:1px solid rgba(0,0,0,.08);
}
.hmpro-mobile-account-cta{
	flex:1 1 auto;
	display:flex;
	align-items:center;
	justify-content:center;
	padding:10px 12px;
	border-radius:12px;
	text-decoration:none;
	font-weight:700;
	background: var(--hmpro-accent, #111);
	color: var(--hmpro-accent-contrast, #fff);
}
.hmpro-mobile-drawer-close{
	flex:0 0 auto;
	width:44px;
	height:44px;
	border-radius:12px;
	border:1px solid rgba(0,0,0,.12);
	background: rgba(0,0,0,.03);
	font-size:26px;
	line-height:1;
	cursor:pointer;
}

.hmpro-mobile-nav{
	padding:14px;
	overflow:auto;
	-webkit-overflow-scrolling:touch;
}
.hmpro-mobile-nav ul{
	list-style:none;
	margin:0;
	padding:0;
}
.hmpro-mobile-nav > ul > li{
	border-bottom:1px solid rgba(0,0,0,.06);
}
.hmpro-mobile-nav a{
	display:block;
	padding:12px 6px;
	text-decoration:none;
	color:inherit;
	font-weight:600;
}
.hmpro-mobile-nav ul.sub-menu{
	display:block; /* simple: show nested items by default in Commit A */
	padding-left:12px;
	padding-bottom:8px;
}
.hmpro-mobile-nav ul.sub-menu a{
	font-weight:500;
	opacity:.92;
}

/* Body lock when drawer open */
html.hmpro-mobile-drawer-open,
html.hmpro-mobile-drawer-open body{
	overflow:hidden;
}

/* Mobile breakpoint behavior */
@media (max-width: 992px){
	/* Hide desktop nav (we clone it into drawer) */
	#site-header .hmpro-primary-nav{
		display:none !important;
	}
	.hmpro-mobile-menu-toggle{
		display:inline-flex;
		align-items:center;
		justify-content:center;
	}
	/* Keep account CTA visible but avoid crowding: move it slightly up */
	.hmpro-header-account-cta{
		top:10px;
	}
}

/* On larger screens, keep everything as-is; hamburger hidden */
@media (min-width: 993px){
	.hmpro-mobile-drawer{ display:none; }
}
